<!DOCTYPE html>
<html data-ng-app="fruitTree">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <title>Letters</title>
    <script src="js/angular.js"></script>
    <script src="https://cdn.firebase.com/v0/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/0.5.0/angularfire.js"></script>
    <script type="application/javascript" src="js/angular-letters.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/letters.css" rel="stylesheet">
    <script src="js/angular-deckgrid.js"></script>

</head>
<body >
<div class="container" data-ng-controller="lettersCtrl" data-ng-init="loadFromLocalStorage();shuffleLetters()">
    <div class="navbar navbar-fixed-top row">
        <div class="col-md-offset-2 col-md-8">
            Total <span class="label label-primary">{{myLetters.length}}</span> sayings.
        <div class="btn-group">
            <button type="button" class="btn btn-sm btn-success" data-ng-click="saveToFireBase()">Save to database</button>
            <button type="button" class="btn btn-sm btn-warning" data-ng-click="loadFromFireBase()">Load from database</button>
            <button onclick="document.getElementById('usertext').focus()" class="btn btn-sm btn-danger" data-ng-click="restart()">Restart</button>
        </div>
        </div>
    </div>

    <h3>Sayings:</h3>

    <div class="row">
        <div class="col-md-10 col-md-offset-1" id="sayings-container">

            <div deckgrid source="myLetters" cardTemplate="js/saying.html" class="deckgrid"></div>

         </div>
    </div>
<!--
    <div class="row">
        <div class="col-md-7">
            <dl class="dl-horizontal">
                <dt data-ng-repeat-start="why in myLetters track by why.letter"><span class="label label-{{getButtonStatus(why)}}">{{why.letter}}</span></dt>
                <dd data-ng-repeat-end=""> {{why.text}}</dd>

            </dl>
        </div>
    </div>
-->
    <div class="panel-heading" >
        <h3>Say something!</h3>
    </div>

    <form class="form-horizontal" data-ng-submit="takeLetter(popLetter)">
        <div class="form-group ">
            <label for="usertext">Enter your text... <span class="label label-info">{{140 - linkedText.length}}</span> symbols to be shown, the least to be hidden. </label>
            <textarea autofocus id="usertext" data-ng-model="linkedText" class="form-control"
                      rows="2"></textarea>
        </div>

        <label>...and choose letters. <span class="label label-info">{{currentLetters.length}}</span> orders now
            available!</label>

        <div class="row">
            <button type="submit" onclick="document.getElementById('usertext').focus()"
                    class="col-sm-1 btn btn-lg  color-{{armColor(popLetter)}}"
                    data-ng-if="currentLetters.length!=0"
                    data-ng-click="takeLetter(popLetter)"
                    data-ng-disabled="!linkedText">{{popLetter}}
            </button>
            <button type="button" onclick="document.getElementById('usertext').focus()"
                    class="col-sm-1 btn btn-lg  color-{{armColor(letter)}}"
                    data-ng-repeat="letter in showLetters"
                    data-ng-click="takeLetter(letter)"
                    data-ng-disabled="!linkedText">{{letter}}
            </button>
        </div>
    </form>

    <div class="row">
        <div data-ng-if="currentLetters.length==0" class="col-sm-12 btn btn-warning btn-lg"
             data-ng-click="refillLetters()">Add letters!
        </div>
    </div>



</div>
</body>
</html>